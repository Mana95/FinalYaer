
<div class="container" >
  <div class="box-head">
    <img src="./assets/images/man2.png" alt="" style="width: 70px; height: 70px">
    <span class="heading-txt">EMPLOYEE</span>
  </div>
  <hr>

    <mat-grid-list cols="2" rowHeight="300px" [gutterSize]="'-55px'" >

      <mat-grid-tile>
        <div class="controls-container">
          <input type="hidden">
          <mat-form-field class="example-full-width">
            <mat-label class="label-txt">Full Name</mat-label>
            <input #name="ngModel" required maxlength="50" minlength="1" matInput placeholder="Full Name" #searchInput [(ngModel)] = "CustomerName" >
            <div  *ngIf="name.invalid && (name.dirty || name.touched)"
                  class="error">
              <div *ngIf="name.errors.required">
                Name is required.
              </div>
              <div *ngIf="name.errors.minlength">
                Name must be at least 2 characters long.
              </div>
              <div *ngIf="name.errors.maxLength">
                Name Number must be up to 50 characters long.
              </div>
            </div>
          </mat-form-field>
          <mat-form-field class="example-full-width">
            <mat-label>Email</mat-label>
            <input type="email" matInput [formControl]="emailFormControl" [(ngModel)]="CustomerEmail"
                   placeholder="Ex. pat@example.com">
            <mat-hint>Errors appear instantly!</mat-hint>
            <mat-error *ngIf="emailFormControl.hasError('email') && !emailFormControl.hasError('required')">
              Please enter a valid email address
            </mat-error>
            <mat-error *ngIf="emailFormControl.hasError('required')">
              Email is <strong>required</strong>
            </mat-error>
          </mat-form-field>
          <mat-form-field class="example-full-width">
            <mat-label>Mobile</mat-label>
            <input #mNum ="ngModel"  required matInput placeholder="Mobile" [(ngModel)]="CustomerMobile" maxlength="10" minlength="10">
            <div  *ngIf="mNum.invalid && (mNum.dirty || mNum.touched)"
                  class="error">
              <div *ngIf="mNum.errors.required">
                Mobile Number is required.
              </div>
              <div *ngIf="mNum.errors.minlength">
                Mobile Number must be at least 10 characters long.
              </div>
              <div *ngIf="mNum.errors.maxLength">
                Mobile Number must be up to 10 characters long.
              </div>
            </div>
          </mat-form-field>
          <mat-form-field>
            <mat-select required #work = "ngModel" placeholder="Works At" aria-label="Role" [(ngModel)] = "CustomerWork">
              <mat-option>None</mat-option>
              <ng-container *ngFor="let place of places">
                <mat-option value="{{place.value}}">{{place.value}}</mat-option>
              </ng-container>
            </mat-select>
            <div  *ngIf="work.invalid && (work.dirty || work.touched)"
                  class="error">
              <div *ngIf="work.errors.required">
                Working Shed is required.
              </div>
            </div>
          </mat-form-field>
        </div>
      </mat-grid-tile>
      <mat-grid-tile>
        <div class="controls-container">
          <mat-form-field class="example-full-width">
            <mat-label>NIC</mat-label>
            <input required #nic="ngModel" matInput placeholder="NIC" [(ngModel)]="CustomerNic" maxlength="10" minlength="10">
            <div  *ngIf="nic.invalid && (nic.dirty || nic.touched)"
                  class="error">
              <div *ngIf="nic.errors.required">
                NIC Number is required.
              </div>
              <div *ngIf="nic.errors.minlength">
                NIC Number must be at least 10 characters long.
              </div>
              <div *ngIf="nic.errors.maxLength">
                NIC Number must be up to 10 characters long.
              </div>
            </div>
          </mat-form-field>
          <div class="add-bottom-padding">
            <mat-radio-group aria-label="Gender" [(ngModel)]="CustomerGender">
              <mat-radio-button *ngFor="let gender of genders" [value] = "gender">{{gender}}</mat-radio-button>
            </mat-radio-group>
          </div>
          <mat-form-field>
            <mat-select required #cRole="ngModel" placeholder="Role" aria-label="Role" [(ngModel)] = "CustomerRole">
              <mat-option>None</mat-option>
              <ng-container *ngFor="let role of roles">
                <mat-option value="{{role.value}}">{{role.value}}</mat-option>
              </ng-container>
            </mat-select>
            <div  *ngIf="cRole.invalid && (cRole.dirty || cRole.touched)"
                  class="error">
              <div *ngIf="cRole.errors.required">
                Employee Role is required.
              </div>
            </div>
          </mat-form-field>
          <mat-form-field>
            <input required #date="ngModel" aria-label="HireDate" matInput [matDatepicker]="picker" placeholder="Hire Date" [(ngModel)] = "CustomerHiredDate">
            <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
            <mat-datepicker #picker></mat-datepicker>
            <div  *ngIf="date.invalid && (date.dirty || date.touched)"
                  class="error">
              <div *ngIf="date.errors.required">
                Hired Date is required.
              </div>
            </div>
          </mat-form-field>
          <div class="button-row">
            <button mat-raised-button color="primary" type="submit" (click)="saveCustomerOnAction()">Submit</button>
            <button mat-raised-button color="accent" (click)="clearSearchInput()">Clear</button>
          </div>
        </div>

      </mat-grid-tile>
    </mat-grid-list>

  <hr>
  <div class="table-style">
  <div class="mat-elevation-z8" style="height: 50px">
  <table mat-table [dataSource]="dataSource" class="mat-elevation-z8">

    <!--- Note that these columns can be defined in any order.
          The actual rendered columns are set as a property on the row definition" -->

    <!-- Position Column -->
    <ng-container matColumnDef="Full Name" style=" width: 40px;">
      <th mat-header-cell *matHeaderCellDef> Full Name </th>
      <td mat-cell *matCellDef="let tempCustomer"> {{tempCustomer.CustomerName}} </td>
    </ng-container>

    <!-- Name Column -->
    <ng-container matColumnDef="Email">
      <th mat-header-cell *matHeaderCellDef> Email </th>
      <td mat-cell *matCellDef="let tempCustomer"> {{tempCustomer.CustomerEmail}} </td>
    </ng-container>

    <!-- Weight Column -->
    <ng-container matColumnDef="Mobile">
      <th mat-header-cell *matHeaderCellDef> Mobile </th>
      <td mat-cell *matCellDef="let tempCustomer"> {{tempCustomer.CustomerMobile}} </td>
    </ng-container>

    <!-- Symbol Column -->
    <ng-container matColumnDef="WorkPlace">
      <th mat-header-cell *matHeaderCellDef> Work Place </th>
      <td mat-cell *matCellDef="let tempCustomer"> {{tempCustomer.CustomerWork}} </td>
    </ng-container>

    <ng-container matColumnDef="Nic">
      <th mat-header-cell *matHeaderCellDef> Nic </th>
      <td mat-cell *matCellDef="let tempCustomer"> {{tempCustomer.CustomerNic}} </td>
    </ng-container>

    <ng-container matColumnDef="Gender">
      <th mat-header-cell *matHeaderCellDef> Gender </th>
      <td mat-cell *matCellDef="let tempCustomer"> {{tempCustomer.CustomerGender}} </td>
    </ng-container>

    <ng-container matColumnDef="Role">
      <th mat-header-cell *matHeaderCellDef> Role </th>
      <td mat-cell *matCellDef="let tempCustomer"> {{tempCustomer.CustomerRole}} </td>
    </ng-container>
    <ng-container matColumnDef="Hired Date">
      <th mat-header-cell *matHeaderCellDef>  Hired Date </th>
      <td mat-cell *matCellDef="let tempCustomer"> {{tempCustomer.CustomerHiredDate.split(' ').slice(0, 4).join(' ')}} </td>
    </ng-container>
    <ng-container matColumnDef="#">
      <th mat-header-cell *matHeaderCellDef>  </th>
      <td mat-cell *matCellDef="let tempCustomer">
        <button mat-button><span class="material-icons" (click)="deleteCustomer(tempCustomer.CustomerNic)">delete</span></button>
        &nbsp;
        <button mat-button><span class="material-icons" (click)="onSelect(tempCustomer._id, tempCustomer.CustomerNic)">update</span></button>
      </td>
    </ng-container>


    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
    <tr mat-row *matRowDef="let row; columns: displayedColumns;" ></tr>
  </table>
    <mat-paginator [pageSizeOptions]="[2, 10, 20]" showFirstLastButtons></mat-paginator>
  </div>
  </div>


</div>


