<div class="container-fluid">
    <div class="box-head">
        <img src="./assets/images/m9.png" alt="" style="height: 40px; width: 40px;">
        <span class="heading-txt"><span style="color: #1e8bc3;">L</span>OAD TRIAL</span>
    </div>
    <hr>
    <div class="main-body">
        <div class="row gutters-sm">
            <div class="col-md-4 mb-3">
                <div class="card">
                    <div class="card-body">
                        <h6 class="mb-0 label">Basic Details</h6>
                        <br>
                        <div class="row" style="color: black;">
                            <div class="col-sm-4">
                                <h6 class="mb-0 label">Load Trial No.</h6>
                            </div>
                            <div class="col-sm-6 text-secondary" style="color: black;">
                                {{this.loadNo}}
                            </div>
                        </div>
                        <hr>
                        <div class="row">
                            <div class="col-sm-4">
                                <h6 class="mb-0 label">Date</h6>
                            </div>
                            <div class="col-sm-6 text-secondary">
                                {{this.loadDate | date}}
                            </div>
                        </div>
                        <hr>
                        <div class="row">
                            <div class="col-sm-4">
                                <h6 class="mb-0 label">Schedule No</h6>
                            </div>
                            <div class="col-sm-6 text-secondary">
                                {{this.scheduleNo}}
                            </div>
                        </div>
                        <hr>
                        <div class="row">
                            <div class="col-sm-4">
                                <h6 class="mb-0 label">From</h6>
                            </div>
                            <div class="col-sm-6 text-secondary">
                                {{this.loadFrom}}
                            </div>
                        </div>
                        <hr>
                        <div class="row">
                            <div class="col-sm-4">
                                <h6 class="mb-0 label">To</h6>
                            </div>
                            <div class="col-sm-6 text-secondary">
                                {{this.loadTo}}
                            </div>
                        </div>
                        <hr>
                        <div class="row">
                            <div class="col-sm-4">
                                <h6 class="mb-0 label">Loco Category</h6>
                            </div>
                            <div class="col-sm-6 text-secondary">
                                {{this.locoCatId}}
                            </div>
                        </div>
                        <hr>
                        <div class="row">
                            <div class="col-sm-4">
                                <h6 class="mb-0 label">Loco Number</h6>
                            </div>
                            <div class="col-sm-6 text-secondary">
                                {{this.locoNumber}}
                            </div>
                        </div>
                        <hr>
                        <div class="row">
                            <div class="col-sm-4">
                                <h6 class="mb-0 label">Start Mileage</h6>
                            </div>
                            <div class="col-sm-6 text-secondary">
                                {{this.startMileage + 'Km'}}
                            </div>
                        </div>
                        <hr>
                        <div class="row">
                            <div class="col-sm-4">
                                <h6 class="mb-0 label">End Mileage</h6>
                            </div>
                            <div class="col-sm-6 text-secondary">
                                {{this.endMileage + 'Km'}}
                            </div>
                        </div>
                        <hr>
                        <div class="row">
                            <div class="col-sm-4">
                                <h6 class="mb-0 label">Status</h6>
                            </div>
                            <div class="col-sm-6 text-secondary">
                                <p [ngStyle]="{'color': (this.status == 1)?'#f7ca18':(this.status == 2)?'green':(this.status==3)?'#1f3a93':'red'}"> <span class="material-icons" matTooltip="{{this.reason}}">
                                    {{statusBinder(this.status)}}
                                    </span></p>
                            </div>
                        </div>

                    </div>
                </div>
                <br>
                <div class="card">
                    <div class="card-body">
                        <h6 class="mb-0 label">Persons</h6>
                        <br>
                        <div class="row" style="color: black;">
                            <div class="col-sm-5">
                                <h6 class="mb-0 label">Service Manager Name</h6>
                            </div>
                            <div class="col-sm-7 text-secondary" style="color: black;">
                                {{this.managerName}}
                            </div>
                        </div>
                        <hr>
                        <div class="row">
                            <div class="col-sm-5">
                                <h6 class="mb-0 label">Service Manager NIC</h6>
                            </div>
                            <div class="col-sm-7 text-secondary">
                                {{this.managerNic}}
                            </div>
                        </div>
                        <hr>
                        <div class="row">
                            <div class="col-sm-5">
                                <h6 class="mb-0 label">Service Manager Email</h6>
                            </div>
                            <div class="col-sm-7 text-secondary">
                                {{this.managerEmail}}
                            </div>
                        </div>
                        <hr>
                        <div class="row">
                            <div class="col-sm-5">
                                <h6 class="mb-0 label">Supervisor Name</h6>
                            </div>
                            <div class="col-sm-7 text-secondary">
                                {{this.supervisorName}}
                            </div>
                        </div>
                        <hr>
                        <div class="row">
                            <div class="col-sm-5">
                                <h6 class="mb-0 label">Supervisor NIC</h6>
                            </div>
                            <div class="col-sm-7 text-secondary">
                                {{this.supervisorNic}}
                            </div>
                        </div>
                        <hr>
                        <div class="row">
                            <div class="col-sm-5">
                                <h6 class="mb-0 label">Supervisor Email</h6>
                            </div>
                            <div class="col-sm-7 text-secondary">
                                {{this.supervisorEmail}}
                            </div>
                        </div>
                        <hr>
                    </div>
                </div>

            </div>
            <div class="col-md-8">

                <div class="card mb-3">
                    <div class="card-body">
                        <h3>Testing Information </h3>
                        <h4 class="d-flex align-items-center mb-3"><img src="https://img.icons8.com/ios/50/000000/piston.png" style="width: 25px; height: 25px;" />&nbsp; Engine at Running Conditions </h4>
                        <mat-accordion class="example-headers-align" multi>
                            <mat-expansion-panel (opened)="panelOpenState8 = true" (closed)="panelOpenState7 = false">
                                <mat-expansion-panel-header>
                                    <mat-panel-title>
                                        Item
                                    </mat-panel-title>
                                    <mat-panel-description>
                                        Currently {{panelOpenState8 ? 'open' : 'closed'}}
                                    </mat-panel-description>
                                </mat-expansion-panel-header>
                                <table mat-table [dataSource]="dataSource1" class="mat-elevation-z8">

                                    <ng-container matColumnDef="No">
                                        <th mat-header-cell *matHeaderCellDef> No. </th>
                                        <td mat-cell *matCellDef="let element; let i = index">{{i + 1}} </td>
                                    </ng-container>
                                    <ng-container matColumnDef="Description">
                                        <th mat-header-cell *matHeaderCellDef> Description </th>
                                        <td mat-cell *matCellDef="let element" matTooltip="{{element.description}}"> {{element.description}} </td>
                                    </ng-container>
                                    <ng-container matColumnDef="Observation">
                                        <th mat-header-cell *matHeaderCellDef> Condition </th>
                                        <td mat-cell *matCellDef="let element" matTooltip="{{element.condition}}"> {{element.condition}} </td>
                                    </ng-container>
                                    <ng-container matColumnDef="Action">
                                        <th mat-header-cell *matHeaderCellDef> Action </th>
                                        <td mat-cell *matCellDef="let element" matTooltip="{{element.action}}"> {{element.action}} </td>
                                    </ng-container>
                                    <tr mat-header-row *matHeaderRowDef="displayedColumns1"></tr>
                                    <tr matRipple mat-row *matRowDef="let row; columns: displayedColumns1;"></tr>
                                </table>
                                <mat-paginator [pageSizeOptions]="[4, 8, 12]" showFirstLastButtons></mat-paginator>
                            </mat-expansion-panel>
                        </mat-accordion>
                    </div>
                </div>
                <div class="card mb-3">

                    <div class="card-body">
                        <h4 class="d-flex align-items-center mb-3"><img src="https://img.icons8.com/ios/50/000000/piston.png" style="width: 25px; height: 25px;" />&nbsp; Engine at Stopped Conditions </h4>
                        <mat-accordion class="example-headers-align" multi>
                            <mat-expansion-panel (opened)="panelOpenState8 = true" (closed)="panelOpenState7 = false">
                                <mat-expansion-panel-header>
                                    <mat-panel-title>
                                        Item
                                    </mat-panel-title>
                                    <mat-panel-description>
                                        Currently {{panelOpenState8 ? 'open' : 'closed'}}
                                    </mat-panel-description>
                                </mat-expansion-panel-header>
                                <table mat-table [dataSource]="dataSource2" class="mat-elevation-z8">

                                    <ng-container matColumnDef="No">
                                        <th mat-header-cell *matHeaderCellDef> No. </th>
                                        <td mat-cell *matCellDef="let element; let i = index">{{i + 1}} </td>
                                    </ng-container>
                                    <ng-container matColumnDef="Description">
                                        <th mat-header-cell *matHeaderCellDef> Description </th>
                                        <td mat-cell *matCellDef="let element" matTooltip="{{element.description}}"> {{element.description}} </td>
                                    </ng-container>
                                    <ng-container matColumnDef="Observation">
                                        <th mat-header-cell *matHeaderCellDef> Condition </th>
                                        <td mat-cell *matCellDef="let element" matTooltip="{{element.condition}}"> {{element.condition}} </td>
                                    </ng-container>
                                    <ng-container matColumnDef="Action">
                                        <th mat-header-cell *matHeaderCellDef> Action </th>
                                        <td mat-cell *matCellDef="let element" matTooltip="{{element.action}}"> {{element.action}} </td>
                                    </ng-container>
                                    <tr mat-header-row *matHeaderRowDef="displayedColumns2"></tr>
                                    <tr matRipple mat-row *matRowDef="let row; columns: displayedColumns2;"></tr>
                                </table>
                                <mat-paginator [pageSizeOptions]="[4, 8, 12]" showFirstLastButtons></mat-paginator>
                            </mat-expansion-panel>
                        </mat-accordion>
                    </div>
                    <div class="card-body">
                        <h4 class="d-flex align-items-center mb-3"><img src="https://img.icons8.com/ios/50/000000/piston.png" style="width: 25px; height: 25px;" />&nbsp; Dynamic Break Test </h4>
                        <mat-accordion class="example-headers-align" multi>
                            <mat-expansion-panel (opened)="panelOpenState8 = true" (closed)="panelOpenState7 = false">
                                <mat-expansion-panel-header>
                                    <mat-panel-title>
                                        Item
                                    </mat-panel-title>
                                    <mat-panel-description>
                                        Currently {{panelOpenState8 ? 'open' : 'closed'}}
                                    </mat-panel-description>
                                </mat-expansion-panel-header>
                                <table mat-table [dataSource]="dataSource3" class="mat-elevation-z8">

                                    <ng-container matColumnDef="No">
                                        <th mat-header-cell *matHeaderCellDef> No. </th>
                                        <td mat-cell *matCellDef="let element; let i = index">{{i + 1}} </td>
                                    </ng-container>
                                    <ng-container matColumnDef="Notch">
                                        <th mat-header-cell *matHeaderCellDef> Notch </th>
                                        <td mat-cell *matCellDef="let element" matTooltip="{{element.notch}}"> {{element.notch}} </td>
                                    </ng-container>
                                    <ng-container matColumnDef="Track">
                                        <th mat-header-cell *matHeaderCellDef> traction Motors(Amps) </th>
                                        <td mat-cell *matCellDef="let element" matTooltip="{{element.tractionMtr}}"> {{element.tractionMtr}} </td>
                                    </ng-container>
                                    <ng-container matColumnDef="Main">
                                        <th mat-header-cell *matHeaderCellDef> Main Generators(Amps) </th>
                                        <td mat-cell *matCellDef="let element" matTooltip="{{element.mainGen}}"> {{element.mainGen}} </td>
                                    </ng-container>
                                    <tr mat-header-row *matHeaderRowDef="displayedColumns3"></tr>
                                    <tr matRipple mat-row *matRowDef="let row; columns: displayedColumns3;"></tr>
                                </table>
                                <mat-paginator [pageSizeOptions]="[4, 8, 12]" showFirstLastButtons></mat-paginator>
                            </mat-expansion-panel>
                        </mat-accordion>
                    </div>
                </div>
                <div class="card mb-3">
                    <div class="card-body">
                        <h3>Special Remarks </h3>
                        <p>{{this?.loadNote}}</p>
                    </div>
                </div>
                <div class="card mb-3">
                    <div class="card-body">
                        <h3>Chief Engineer Comments </h3>
                        <mat-accordion class="example-headers-align" multi>
                            <mat-expansion-panel (opened)="panelOpenState9 = true" (closed)="panelOpenState9 = false">
                                <mat-expansion-panel-header>
                                    <mat-panel-title>
                                        Item
                                    </mat-panel-title>
                                    <mat-panel-description>
                                        Currently {{panelOpenState9 ? 'open' : 'closed'}}
                                    </mat-panel-description>
                                </mat-expansion-panel-header>
                                <table mat-table [dataSource]="dataSource4" class="mat-elevation-z8">

                                    <ng-container matColumnDef="No">
                                        <th mat-header-cell *matHeaderCellDef> No. </th>
                                        <td mat-cell *matCellDef="let element; let i = index">{{i + 1}} </td>
                                    </ng-container>
                                    <ng-container matColumnDef="Status">
                                        <th mat-header-cell *matHeaderCellDef> Status </th>
                                        <td mat-cell *matCellDef="let element" [ngStyle]="{'color': (element.status == 1)?'#1f3a93':(element.status == 2)?'green':(element.status==3)?'red':'blue'}">
                                            <span class="material-icons" matTooltip="{{element.reason}}">
                                                {{cmtStatusBinder(element.status)}}
                                                </span>
                                        </td>
                                    </ng-container>
                                    <ng-container matColumnDef="Date">
                                        <th mat-header-cell *matHeaderCellDef> Date </th>
                                        <td mat-cell *matCellDef="let element" matTooltip="{{element?.comDate}}"> {{element?.comDate | date}} </td>
                                    </ng-container>
                                    <ng-container matColumnDef="Comments">
                                        <th mat-header-cell *matHeaderCellDef> Comments </th>
                                        <td mat-cell *matCellDef="let element" matTooltip="{{element?.comments}}"> {{element?.comments}} </td>
                                    </ng-container>
                                    <ng-container matColumnDef="#">
                                        <th mat-header-cell *matHeaderCellDef> </th>

                                        <td mat-cell *matCellDef="let element" data-label="#">

                                            <button mat-icon-button (click)="viewFeedBack(element.commentId)" matTooltip="View Feedbacks issued!">
                                                    <i class="fas fa-comment-alt" style="color: #f5ab35;"></i>
                                                 </button>
                                        </td>

                                    </ng-container>
                                    <tr mat-header-row *matHeaderRowDef="displayedColumns4"></tr>
                                    <tr matRipple mat-row *matRowDef="let row; columns: displayedColumns4;"></tr>
                                </table>
                                <mat-paginator [pageSizeOptions]="[4, 8, 12]" showFirstLastButtons></mat-paginator>
                            </mat-expansion-panel>
                        </mat-accordion>
                    </div>
                </div>
            </div>
        </div>

    </div>
</div>